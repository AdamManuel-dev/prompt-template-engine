# Cursor Prompt Template Engine Web Portal - Environment Configuration
# Copy this file to .env and update the values for your environment

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
NODE_ENV=development
PORT=3001
FRONTEND_URL=http://localhost:5174

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
DATABASE_URL="postgresql://postgres:password@localhost:5432/template_portal"

# ============================================================================
# JWT AUTHENTICATION SECRETS
# ============================================================================
# Generate secure random secrets for production:
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"

# Primary JWT secret for access tokens (REQUIRED)
JWT_SECRET=your-super-secure-jwt-secret-change-in-production-64-characters-minimum

# JWT refresh token secret (REQUIRED)
JWT_REFRESH_SECRET=your-super-secure-refresh-secret-change-in-production-64-characters-minimum

# Data encryption key for sensitive data (OAuth tokens, etc.) (REQUIRED)
ENCRYPTION_KEY=your-32-character-encryption-key-change-in-production

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================
# Trust proxy headers (set to true if behind reverse proxy/load balancer)
TRUST_PROXY=false

# CORS allowed origins (comma-separated for production)
CORS_ORIGINS=http://localhost:5174,http://localhost:3000,http://127.0.0.1:5174

# ============================================================================
# OAUTH PROVIDERS (Optional - for SSO integration)
# ============================================================================

# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=http://localhost:3001/api/auth/oauth/google/callback

# GitHub OAuth
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret
GITHUB_CALLBACK_URL=http://localhost:3001/api/auth/oauth/github/callback

# Microsoft OAuth
MICROSOFT_CLIENT_ID=your-microsoft-client-id
MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret
MICROSOFT_CALLBACK_URL=http://localhost:3001/api/auth/oauth/microsoft/callback

# ============================================================================
# EMAIL CONFIGURATION (Optional - for email verification/password reset)
# ============================================================================
# SMTP settings for email notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Email from address
FROM_EMAIL=noreply@your-domain.com
FROM_NAME=Cursor Prompt Portal

# ============================================================================
# CLI INTEGRATION
# ============================================================================
# Path to the CLI executable
CLI_PATH=/path/to/cursor-prompt/dist/index.js

# ============================================================================
# MONITORING AND LOGGING
# ============================================================================
# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Enable audit logging
ENABLE_AUDIT_LOGS=true

# ============================================================================
# RATE LIMITING
# ============================================================================
# Global rate limits
GLOBAL_RATE_LIMIT_WINDOW=15  # minutes
GLOBAL_RATE_LIMIT_MAX=100    # requests per window

# Auth rate limits (more restrictive)
AUTH_RATE_LIMIT_WINDOW=15    # minutes
AUTH_RATE_LIMIT_MAX=5        # requests per window

# ============================================================================
# FEATURE FLAGS
# ============================================================================
# Enable/disable features
ENABLE_REGISTRATION=true
ENABLE_OAUTH=false
ENABLE_EMAIL_VERIFICATION=false
ENABLE_PASSWORD_RESET=true
ENABLE_2FA=false

# ============================================================================
# DEVELOPMENT ONLY
# ============================================================================
# Enable debug logging in development
DEBUG=cursor-prompt:*

# Skip email verification in development
SKIP_EMAIL_VERIFICATION=true

# Mock external services in development
MOCK_EXTERNAL_SERVICES=true